@* Componente reutilizável para badges de status *@

@if (!string.IsNullOrEmpty(Status))
{
    <span class="@GetBadgeClass()">
        @GetStatusText()
    </span>
}

@code {
    [Parameter]
    public string Status { get; set; } = "";

    [Parameter]
    public string? CustomText { get; set; }

    private string GetBadgeClass()
    {
        var baseClass = "px-3 py-1 text-xs font-semibold rounded-full";
        
        return Status.ToLower() switch
        {
            "pago" => $"{baseClass} bg-green-100 text-green-800",
            "pendente" => $"{baseClass} bg-yellow-100 text-yellow-800",
            "cancelado" => $"{baseClass} bg-red-100 text-red-800",
            "parcial" => $"{baseClass} bg-blue-100 text-blue-800",
            "critico" => $"{baseClass} bg-red-100 text-red-800",
            "baixo" => $"{baseClass} bg-yellow-100 text-yellow-800",
            "normal" => $"{baseClass} bg-green-100 text-green-800",
            "excesso" => $"{baseClass} bg-purple-100 text-purple-800",
            _ => $"{baseClass} bg-gray-100 text-gray-800"
        };
    }

    private string GetStatusText()
    {
        if (!string.IsNullOrEmpty(CustomText))
            return CustomText;

        return Status.ToLower() switch
        {
            "pago" => "Pago",
            "pendente" => "Pendente",
            "cancelado" => "Cancelado",
            "parcial" => "Parcial",
            "critico" => "Crítico",
            "baixo" => "Baixo",
            "normal" => "Normal",
            "excesso" => "Excesso",
            _ => Status
        };
    }
}
